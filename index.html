<!DOCTYPE html>
<html>
<head>
    <title>Tanks War</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="tank.js"></script>
    <!--<script src="bullet.js"></script>-->
    <script>
        window.addEventListener("load", () => {
            //function simulContinuous(func1, func2) {
            //    var stop = setInterval(function () {
            //        func1();
            //        func2();
            //    }, 5);
            //    window.addEventListener("keyup", function () {
            //        //stop the loop
            //        clearInterval(stop);
            //        //and remove the keyup listener
            //        window.removeEventListener("keyup", arguments.callee);
            //    });
            //}
            const g = document.querySelector("#Green");
            const y = document.querySelector("#Yellow");
            const b = document.querySelector(".board");
            let boardWidth = parseInt(b.offsetWidth) - 50;
            let boardHeight = parseInt(b.offsetHeight) - 50;
            
            y.style.left = boardWidth+"px"; y.style.top = boardHeight+"px";
            b.style.left = "0px"; b.style.top = "0px";
            const Green = new Tank(g, 180, boardWidth, boardHeight);
            const Yellow = new Tank(y, 0, boardWidth, boardHeight);

            Green.name.style.transform = "rotate(180deg)";
            Yellow.name.style.transform = "rotate(0deg)";
            setMove(Green, 37, 38, 39, 40,17,Yellow, Yellow, 65, 87, 68, 83,81,Green);

            let bull = document.querySelector(".bullet");
            let bu = new bullet(bull, 10, 100, 100, 0.414, 0.414, 2, 0);
            bull.onclick = function () {
                bu.fly(Green.name);
            }
            g.onclick = function () {
                Green.setBullet(2);
            }
        });
    </script>

</head>
<body>
    <div class="wrapper">
        <p>Tanks War</p>
        <div class="board">
            <div class="Tank" id="Green"></div>
            <div class="Tank" id="Yellow"></div>
            <div class="bullet"></div>
        </div>
    </div>
</body>
</html>